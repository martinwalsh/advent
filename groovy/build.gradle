plugins {
    id 'groovy'
    id 'application'
    // https://stackoverflow.com/a/46533151
    id 'com.adarshr.test-logger' version '3.2.0'
}

repositories {
  mavenCentral()
}

dependencies {
    implementation 'org.codehaus.groovy:groovy-all:3.0.8'
    testImplementation 'org.spockframework:spock-core:2.0-groovy-3.0'
}

test {
    useJUnitPlatform()
    outputs.upToDateWhen { false }
}

if (project.hasProperty('skipTasks')) {
  project.getProperty('skipTasks').split(',').each { t ->
    gradle.startParameter.excludedTaskNames += t
  }
}